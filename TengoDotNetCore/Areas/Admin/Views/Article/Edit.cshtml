@model Article
@{
    ViewData["Title"] = Model.Title;
}
<div class="page-container">
    <form class="form form-horizontal" id="form-article-edit" asp-action="Edit" method="post">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <input type="hidden" asp-for="ID" />
        <div class="row cl">
            <label asp-for="Title" class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>标题：</label>
            <div class="formControls col-xs-8 col-sm-9">
                <input asp-for="Title" class="input-text" />
            </div>
        </div>
        <div class="row cl">
            <label asp-for="Author" class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>作者：</label>
            <div class="formControls col-xs-8 col-sm-9">
                <input class="input-text" name="Author" type="text" maxlength="50" placeholder="50字内" value="" required>
            </div>
        </div>
        <div class="row cl">
            <label asp-for="Status" class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>是否显示：</label>
            <div class="formControls col-xs-8 col-sm-9">
                <span class="select-box">
                    <select asp-for="Status" class="select">
                        <option value="1">正常销售</option>
                        <option value="2">销售但不显示</option>
                        <option value="3">已下架</option>
                        <option value="4">待审核</option>
                    </select>
                </span>
            </div>
        </div>
        <div class="row cl">
            <label asp-for="Content" class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>PC端详情：</label>
            <div class="formControls col-xs-8 col-sm-9">
                <textarea id="editor_id" name="Content" style="width:100%;height:400px;"></textarea>
                <input id="Content" name="Content" type="hidden" />
            </div>
        </div>
        <div class="row cl">
            <label asp-for="MContent" class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>无线端详情：</label>
            <div class="formControls col-xs-8 col-sm-9">
                <textarea id="editor_id" name="MContent" style="width:100%;height:400px;"></textarea>
                <input id="MContent" name="MContent" type="hidden" />
            </div>
        </div>
        <div class="row cl">
            <label asp-for="Keywords" class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>SEO关键字：</label>
            <div class="formControls col-xs-8 col-sm-9">
                <input asp-for="Keywords" class="input-text" maxlength="255" value="" />
            </div>
        </div>
        <div class="row cl">
            <label asp-for="Description" class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>SEO描述：</label>
            <div class="formControls col-xs-8 col-sm-9">
                <input asp-for="Description" class="input-text" maxlength="255" value="" />
            </div>
        </div>
        <div class="row cl">
            <label asp-for="Sort" class="form-label col-xs-4 col-sm-2"><span class="c-red">*</span>排序：</label>
            <div class="formControls col-xs-8 col-sm-9">
                <input asp-for="Sort" class="input-text" />
            </div>
        </div>

        <div class="row cl">
            <div class="col-xs-8 col-sm-9 col-xs-offset-4 col-sm-offset-2">
                <button id="btn-submit" class="btn btn-primary radius" type="submit">
                    <i class="Hui-iconfont">&#xe632;</i> 保存并提交审核
                </button>
                <button onClick="removeIframe();" class="btn btn-default radius" type="button">&nbsp;&nbsp;取消&nbsp;&nbsp;</button>
            </div>
        </div>
    </form>
</div>

@section Scripts{
    <script>
        $(function () {
            $('.skin-minimal input').iCheck({
                checkboxClass: 'icheckbox-blue',
                radioClass: 'iradio-blue',
                increaseArea: '20%'
            });

            //表单验证
            $("#form-article-edit").validate({
                rules: {
                    Title: {
                        required: true,
                    },
                },
                onkeyup: false,
                focusCleanup: true,
                success: "valid",
                submitHandler: function (form) {
                    $(form).ajaxSubmit();
                    var index = parent.layer.getFrameIndex(window.name);
                    console.log(window.name);
                    parent.location.reload();
                    parent.$('.btn-refresh').click();
                    parent.layer.close(index);
                    
                }
            });

         
        });

    </script>
}}